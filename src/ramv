module ram
#(parameter ADDR_WIDTH = 9, DATA_WIDTH = 8) // 512x8
(
// inputs
input [DATA_WIDTH-1:0] din,
input write_en,
input [ADDR_WIDTH-1:0] waddr,
input wclk,
input [ADDR_WIDTH-1:0] raddr,
input rclk,
// outputs
output reg [DATA_WIDTH-1:0] dout
);

reg [DATA_WIDTH-1:0] mem [(1<<ADDR_WIDTH)-1:0];

always @(posedge wclk) // Write memory.
begin
	if (write_en)
		mem[waddr] <= din; // Using write address bus.
end

always @(posedge rclk) // Read memory.
begin
	dout <= mem[raddr]; // Using read address bus.
end
endmodule